<!DOCTYPE html>
<html lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Evidenta populatiei la politie</title>
      <link rel="stylesheet" href="static/style.css">
      <script src="script.js"></script>
      
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
   </head>    

       <body>
          <input type="checkbox" id="active">
          <label for="active" class="menu-btn"><i class="fas fa-bars"></i></label>
          <div class="wrapper">
             <ul>
                <li><a href="#About me">Despre noi</a></li>
                <li><a href="#Resume">Adauga cetatean</a></li>
                <li><a href="#Projects">Cetateni</a></li>
                <li><a href="#Gallery">Informatii</a></li>
                <li><a href="#Contact">Contact</a></li>
             </ul>
          </div>
          <div class="content">
             <div class="title">
               <h1 style="font-size:5vw"> Evidenta
                <br> Populatiei la Politie</h1>
            </div>
          </div>
          <div id="login-container">
            <button  id="login-button" onclick="getData()">Login</button>
          </div>
          
          <p style="padding-top:400px;"></p>
          <div class="right">
            <p><b>Acest site are drept scop colectarea și stocarea datelor personale ale cetățenilor într-o bază de date securizată.
                <p>Informații precum nume, adresă, dată de naștere, sex, stare civilă etc., pot fi incluse pentru fiecare individ înregistrat.</p>
            </b></p>
            <div class="banner">
                <div class="app-text">
                    <p style="padding-top:50px;"></p>
                    <div class="primary-btn">
                        <div class="btn-group">
                            <div class="play-btn">
                                <div class="play-btn-inner">
                                    <a href="#About me"><i class="fa fa-arrow-down"></h1></i><span><b>Despre noi</b></span></a>
                                      
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
          <div>
              <p style="padding-top:410px;"></p>
              <h2 class="about-me" id="About me"><br>Despre noi</h2></h1>
         </div>
         <div class="row">
            <div class="side">
              <div class="fakeimg1" style="height:200px;"><img src="static/images/data-database-analysis-system-information-concept.jpg"  width="100%"></div>
              <div class="skills">
              <h4>Conducerea</h4>
              <div>
                <p><i class="fa fa-circle" ></i> Oláh-Badi Csaba, șef serviciu</p>
                <p><i class="fa fa-circle" ></i> Telefon: 0267 311 475</p>
                <p><i class="fa fa-circle" ></i> E-mail: contact@evpcv.ro</p> 
              </div>
              <h4>Audiente</h4>
              <div>
                <p><i class="fa fa-circle" ></i> Luni, marți, miercuri:</p> 
                <p><i class="fa fa-circle" ></i>  10:00 – 12:00.</p>
                <p><i class="fa fa-circle" ></i> Înscrierile la audiențe se fac prin telefon nr. 0267 311 475, prin e-mail la contact@evpcv.ro, sau personal la sediul instituției.</p>
              </div>
              </div>
              
              <br>
              
            </div>
            <div class="main">
              <p> <i class="fa fa-circle" ></i>Serviciul public comunitar județean de evidență a persoanelor a fost înființat prin Hotărârea Consiliului Județean Covasna nr. 8/2005.
                 Prin aceeași hotărâre au fost aprobate Regulamentul de organizare și funcționare, organigrama și statutul de funcții.</p>
              <br>
              <h4>Baza legala</h4>
              <p><i class="fa fa-circle" ></i>Ordonanța nr. 84/2001 - privind înființarea, organizarea și funcționarea 
                serviciilor publice comunitare de evidență a persoanelor, aprobată prin Legea nr. 372/2002, cu modificările și completările ulterioare.
              </p>
              <p><i class="fa fa-circle" ></i>OUG nr. 97/2005 - privind evidența, domiciliul, reședința și actele de identitate ale cetățenilor români, republicată.</p>
              <p><i class="fa fa-circle" ></i>H.G. nr. 295/2021 pentru aprobarea Normelor metodologice de aplicare unitară a dispozițiilor Ordonanței de urgentă a Guvernului nr. 97/2005 privind evidența, domiciliul, reședinta și actele de identitate ale
                cetățenilor români, precum și pentru stabilirea formei și conținutului actelor de identitate, ale dovezii de reședință și ale cărții de imobil</p>
              <p><i class="fa fa-circle" ></i>Legea nr. 119/1996 - cu privire la actele de stare civilă, cu modificările și completările ulterioare.</p>
              <p><i class="fa fa-circle" ></i>H.G. nr. 64/2011 pentru aprobarea metodologiei cu privire la aplicarea unitară a dispozițiilor în materie de stare civilă.</p>
              <p><i class="fa fa-circle" ></i>Legea nr. 544/2001 - privind liberul acces la informațiile de interes public.</p>
              <div class="img5" class="fakeimg" style="height:300px;"><img src="static/images/network-concept-ai-generated-image.jpg" alt=""  width="400px"></div>
              
            </div>
          </div>
          <div> 
            <h2 class="about-me" id="Resume"><br>Adaugare persoane in baza de date</h2></h1>
          </div>
         

          <form id="myForm" action="#" method="post" enctype="multipart/form-data">
            <label for="nume">Nume:</label>
            <input type="text" id="nume" name="nume" required>

            <label for="prenume">Prenume:</label>
            <input type="text" id="prenume" name="prenume" required>

            <label for="CNP">CNP:</label>
            <input type="text" id="CNP" name="CNP" required>

            <label for="sex">Sex:</label>
            <select id="sex" name="sex" required>
                <option value="F">F</option>
                <option value="M">M</option>
            </select>

            <label for="telefon">Telefon:</label>
            <input type="text" id="telefon" name="telefon" required>

            <label for="email">Email:</label>
            <input type="text" id="email" name="email" required>
    
            <label for="starecivila">Stare civila:</label>
            <select id="starecivila" name="starecivila" required>
                <option value="Singur/a">Singur/a</option>
                <option value="Divortat/a">Divortat/a</option>
                <option value="Casatorit/a">Casatorit/a</option>
            </select>

            <label for="dataNasterii">Data de naștere:</label>
            <input type="text" id="dataNasterii" name="dataNasterii" placeholder="YYYY-MM-DD" required>
    
            <input type="submit" value="Adauga persoana">
        </form>

        <table id="myTable">
          <thead>
              <tr>
                  <th>Nume</th>
                  <th>Prenume</th>
                  <th>CNP</th>
                  <th>Sex</th>
                  <th>Telefon</th>
                  <th>Email</th>
                  <th>Stare civila</th>
                  <th>Data Nasterii</th>
              </tr>
          </thead>
          <tbody>
              <!-- Aici vor fi adăugate rândurile cu datele introduse anterior -->
          </tbody>
      </table>

      <script>
        document.getElementById("myForm").addEventListener("submit", function (event) {
            event.preventDefault();
    
            // Obtain values from the form
            var nume = document.getElementById("nume").value;
            var prenume = document.getElementById("prenume").value;
            var CNP = document.getElementById("CNP").value;
            var sex = document.getElementById("sex").value;
            var telefon = document.getElementById("telefon").value;
            var email = document.getElementById("email").value;
            var dataNasterii = document.getElementById("dataNasterii").value;
            var starecivila = document.getElementById("starecivila").value;
    
            // Create an object to hold the data
            var personData = {
            Nume: nume,
            Prenume: prenume,
            CNP: CNP,
            Sex: sex,
            Telefon: telefon,
            Email: email,
            StareCivila: starecivila,
            DataNasterii: dataNasterii
        };
            
            var table = document.getElementById("myTable").getElementsByTagName('tbody')[0];
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);
            var cell5 = newRow.insertCell(4);
            var cell6 = newRow.insertCell(5);
            var cell7 = newRow.insertCell(6);
            var cell8 = newRow.insertCell(7);
            cell1.innerHTML = nume;
            cell2.innerHTML = prenume;
            cell3.innerHTML = CNP;
            cell4.innerHTML = sex;
            cell5.innerHTML = telefon;
            cell6.innerHTML = email;
            cell7.innerHTML = starecivila;
            cell8.innerHTML = dataNasterii;

            console.log("sometjin");
            console.log(personData);
            // Send the data to the server using a fetch request
            fetch(`http://localhost:8800/addPerson`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(personData)
            })
            .then(response => response.json())
            .then(data => {
                // Assuming the server responds with the inserted person's data
                // You can handle the response as needed
                console.log(data);
    
                // Create a new row in the table and add the data
                var table = document.getElementById("myTable").getElementsByTagName('tbody')[0];
                var newRow = table.insertRow(table.rows.length);
                // ... (insert cells and populate them with data as you did before)
            })
            .catch(error => console.error("Error:", error));
    
            // Reset form values
            document.getElementById("nume").value = "";
            document.getElementById("prenume").value = "";
            document.getElementById("CNP").value = "";
            document.getElementById("telefon").value = "";
            document.getElementById("email").value = "";
            document.getElementById("starecivila").value="";
            document.getElementById("dataNasterii").value = "" ;
        });
    </script>

              <p style="padding-top:70px;"> </p>
              <div class="row">
                <div class="column1"></div>
                <div class="column2"></div>
              </div>
            </div>
          </div>
          <div> 
            <h2 class="about-me" id="Projects"><br>Cetateni</h2></h1>
          </div>
          <p style="padding-top:20px;"></p>
          <div class="row">
            <div class="column1">
              <h4> Informatii din baza de date</h4>

                <h3>Se pot cauta anumite date personale (documente, infractiuni, adrese etc.).</h3>
<div id="rezultate"></div>
<div class="white">
<script>
    // Folosește JavaScript pentru a efectua o cerere către server și a afișa datele în HTML
    fetch('http://localhost:8800/afiseazaDate')
        .then(response => response.json())
        .then(data => {
            // Construiește un tabel HTML cu datele primite
            var tableHTML = "<table border='1'><tr></th><th>Nume</th><th>Prenume</th><th>CNP</th><th>Telefon</th><th>Email</th><th>DataNasterii</th><th>Editare/Stergere</th></tr>";

            data.forEach(row => {
                tableHTML += `<tr><td>${row.Nume}</td><td>${row.Prenume}</td><td>${row.CNP}</td><td>${row.Telefon}</td><td>${row.Email}</td><td>${row.DataNasterii}</td><td> <i class="fas fa-edit" style="cursor: pointer;" onclick="editeazaCetatean(${row.CetateanID})"></i> <i class="fas fa-trash" style="cursor: pointer;" onclick="stergeCetatean(${row.CetateanID})"></i></td></tr>`;
            });

            tableHTML += "</table>";

            // Adaugă tabelul în div-ul cu id-ul "rezultate"
            document.getElementById("rezultate").innerHTML = tableHTML;
        })
        .catch(error => {
            console.error('Eroare:', error);
        });

    // Funcția pentru a șterge un cetățean
    function stergeCetatean(CetateanID) {
        // Trimite o cerere către server pentru ștergerea cetățeanului cu ID-ul specificat
        fetch(`http://localhost:8800/stergeCetatean/${CetateanID}`, { method: 'DELETE' })
            .then(response => response.json())
            .then(data => {
                // Dacă ștergerea a fost reușită, reîncarcă datele pentru a actualiza tabelul
                if (data.success) {
                    location.reload();
                } else {
                    console.error('Eroare la ștergere:', data.message);
                }
            })
            .catch(error => {
                console.error('Eroare la ștergere:', error);
            });
    }
          </script>
            <div> 
              <h2 class="about-me" id="Resume"><br>Adaugare documente in baza de date</h2></h1>
            </div>
            
            <form id="documentForm" action="#" method="post" enctype="multipart/form-data">

             
              
              <label for="documentTip">Tip document:</label>
              <input type="text" id="documentTip" name="documentTip" required>
          
              <label for="numar">Numar:</label>
              <input type="text" id="numar" name="numar" required>
          
              <label for="dataEliberarii">Data de eliberare:</label>
              <input type="text" id="dataEliberarii" name="dataEliberarii" placeholder="YYYY-MM-DD" required>
          
              <label for="cetateanID">Cetatean:</label>
              <select id="cetateanID" name="cetateanID" required>
                  <!-- Opțiuni vor fi adăugate dinamic folosind JavaScript -->
              </select>
          
              <label for="sectieID">Sectie:</label>
              <select id="sectieID" name="sectieID" required>
                  <!-- Opțiuni vor fi adăugate dinamic folosind JavaScript -->
              </select>
          
              <input type="submit" value="Adauga document">
          </form>
          <script>
          // Funcție pentru a adăuga opțiuni în dropdown pentru CetateanID
          function populateCetateanDropdown() {
              fetch('http://localhost:8800/getCetateni') // Endpoint pentru a obține lista de cetățeni
                  .then(response => response.json())
                  .then(data => {
                      var cetateanDropdown = document.getElementById('cetateanID');
          
                      data.forEach(cetatean => {
                          var option = document.createElement('option');
                          option.value = cetatean.CetateanID;
                          option.text = `${cetatean.Nume} ${cetatean.Prenume}`;
                          cetateanDropdown.add(option);
                      });
                  })
                  .catch(error => console.error('Eroare la obținerea listei de cetățeni:', error));
          }
          
          // Funcție pentru a adăuga opțiuni în dropdown pentru SectieID
          function populateSectieDropdown() {
              fetch('http://localhost:8800/getSectii') // Endpoint pentru a obține lista de sectii
                  .then(response => response.json())
                  .then(data => {
                      var sectieDropdown = document.getElementById('sectieID');
          
                      data.forEach(sectie => {
                          var option = document.createElement('option');
                          option.value = sectie.SectieID;
                          option.text = sectie.NumeSectie;
                          sectieDropdown.add(option);
                      });
                  })
                  .catch(error => console.error('Eroare la obținerea listei de sectii:', error));
          }
          
          // Apelează funcțiile de populare la încărcarea paginii
          document.addEventListener('DOMContentLoaded', function () {
              populateCetateanDropdown();
              populateSectieDropdown();
          });
          
          document.getElementById("documentForm").addEventListener("submit", function (event) {
              event.preventDefault();
          
              // Obțineți valorile din formular
              var documentTip = document.getElementById("documentTip").value;
              var numar = document.getElementById("numar").value;
              var dataEliberarii = document.getElementById("dataEliberarii").value;
              var cetateanID = document.getElementById("cetateanID").value;
              var sectieID = document.getElementById("sectieID").value;
          
              // Creați un obiect pentru a păstra datele
              var documentData = {
                  DocumentTip: documentTip,
                  Numar: numar,
                  DataEliberarii: dataEliberarii,
                  CetateanID: cetateanID,
                  SectieID: sectieID
              };
          
              // Trimiteți datele către server folosind o cerere fetch
              fetch(`http://localhost:8800/addDocument`, {
                  method: "POST",
                  headers: {
                      "Content-Type": "application/json"
                  },
                  body: JSON.stringify(documentData)
              })
              .then(response => response.json())
              .then(data => {
                  // Răspunsul serverului, gestionați-l conform necesităților
                  console.log(data);
          
                  // Creați un nou rând în tabel și adăugați datele
                  var table = document.getElementById("myTable").getElementsByTagName('tbody')[0];
                  var newRow = table.insertRow(table.rows.length);
                  var cells = [];
          
                  for (let i = 0; i < 8; i++) {
                      cells[i] = newRow.insertCell(i);
                  }
          
                  cells[0].innerHTML = documentTip;
                  cells[1].innerHTML = numar;
                  cells[2].innerHTML = dataEliberarii;
                  cells[3].innerHTML = cetateanID;  // Aici ar trebui să afișați numele și prenumele, nu ID-ul
                  cells[4].innerHTML = sectieID;    // Aici ar trebui să afișați numele sectiei, nu ID-ul
              })
              .catch(error => console.error("Eroare:", error));
          
              // Resetați valorile formularului
              document.getElementById("documentTip").value = "";
              document.getElementById("numar").value = "";
              document.getElementById("dataEliberarii").value = "";
          });
        </script>
            <p style="padding-top:70px;"></p>
</div> 
            <div id="rezultateDocumenteGenerale"></div>
          
            </div>  
          </div>
          <p style="padding-top:70px;"></p>
           
            <h2 class="about-me" id="Gallery"><br>Selecteaza documentul:</h2></h1>
          <div class="design">
          <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
          <div class="search-form-container">
            <!-- Adaugă un formular pentru căutarea cetățenilor cu documentul specificat -->
            <form id="searchForm">
                <!-- Adaugă un meniu dropdown pentru a selecta denumirea documentului -->
                <select id="documentType" name="documentType">
                    <option value="CI">CI(card de identitate)</option>
                    <option value="CC">CC(certificat de casatorie)</option>
                    <option value="PA">PA(permis de arma)</option>
                    <option value="PC">PC(permis de conducere)</option>
                    <option value="BI">BI(buletin de identitate)</option>
                    <!-- Adaugă mai multe opțiuni pentru alte tipuri de documente -->
                </select>

                <!-- Adaugă un buton pentru a declanșa căutarea -->
                <button type="button"  onclick="cautaCetateniCuDocument()">Caută Cetățeni</button>
            </form>

            <!-- Adaugă un div pentru afișarea rezultatelor căutării -->
            <div id="rezultateCetateniCuDocument"></div>
            <p style="padding-top:70px;"></p>
          </div>
          </div>
          
          <!-- Add this inside your form or a dedicated section -->
          <h2 class="about-me" id="Gallery"><br>Selectare strada:</h2></h1>
          <div class="design">
          <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
          <div class="search-form-container">

          <form id="searchForm">
          <!--<label for="selectedStreet">Selectare strada:</label>-->
          <select id="selectedStreet" name="selectedStreet">
              <option value="Strada Independentei">Strada Independentei</option>
              <option value="Piata Victoriei">Piata Victoriei</option>
              <option value="Calea Victoriei">Calea Victoriei</option>
              <option value="Bulevardul Dacia">Bulevardul Dacia</option>
              <option value="Strada Garii">Strada Garii</option>
              <option value="Aleea Fericirii">Aleea Fericirii</option>
              <!-- Add more options for other streets if needed -->
          </select>

          <button type="button" onclick="searchSections()">Cauta sectie</button>
          </form>
          <div id="searchResults"></div>
          <p style="padding-top:70px;"></p>
          </div>
          </div>

          <!-- Add this inside your form or a dedicated section -->
          <h2 class="about-me" id="Gallery"><br>Numar minim de membrii:</h2></h1>
          <div class="design">
          <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
          <div class="search-form-container">
            
          <form id="searchForm">
          <input type="number" id="minMembers" name="minMembers" min="0" value="2">
          <button type="button" onclick="searchAddresses()">Cauta Adrese</button>
          
          <!-- Add a div to display the results table -->
          <div id="resultTable"></div>
          </form>
          <p style="padding-top:70px;"></p>
          </div>
          </div>
          
          
          <!-- Add this inside your form or a dedicated section -->
          <h2 class="about-me" id="Gallery"><br>Cautare modificari de identitate dupa gen:</h2></h1>
          <div class="design">
          <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
          <div class="search-form-container">
            
          <form id="searchForm">
            
            <form id="searchByGenderForm">
                <select id="gender" name="gender">
                    <option value="F">Feminin</option>
                    <option value="M">Masculin</option>
                </select>
                <button type="button" onclick="cautaDupaGen()">Caută după Gen</button>
            </form>
            <div id="rezultateDupaGen"></div>
          </form>
          </div>
          <p style="padding-top:70px;"></p>
          </div>
          
        <div class="containerafisare">
        <div>
          <h2 class="about-me">Afișează Infracțiuni și Informații despre Cetățeni</h2>
          <div class="infractiune"><button type="button" onclick="afiseazaInfractiuniSiCetateni()">Afișează</button></div>
          <div id="rezultateInfractiuniCetateni"></div>
        </div>
        
        <div>
          <h2 class="about-me">Afișează Informații despre Documente și Sectii</h2>
          <div class="infractiune"><button type="button" onclick="afiseazaInformatiiDocumenteSectii()">Afișează</button></div>
          <div id="rezultateInformatiiDocumenteSectii"></div>
        </div>
        </div>

        
        <div class="design">
          <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
          <div class="search-form-container">
            
        <form id="searchForm">
        <label for="numarInfractiuni" type="button">Orasele pentru care numarul minim de infractiuni, este cel introdus de dumneavoastra :</label>
        <input type="number" id="numarInfractiuni" name="numarInfractiuni" min="1" value="4">
        <button type="button" onclick="afiseazaCetateniInfractori()">Afisează Oras</button>
        <div id="rezultateInfractori"> </div>
        </div>
        </form>
        
        <p style="padding-top:70px;"></p>
        </div>


        <!-- Add this inside your form or a dedicated section -->
        <h2 class="about-me" id="Gallery"><br>Infractori cu pedeapsa peste medie:</h2></h1>
        <div class="design">
        <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
        <div class="search-form-container">
          
        
        <!-- Adăugați un buton pentru a iniția afișarea rezultatelor -->
        <button type="button" onclick="afiseazaInfractiuni()">Afișează Infractori</button>

        <!-- Adăugați un element pentru a afișa rezultatele interogării -->
        <div id="rezultateInfractiuni"></div>
        
        
    
        <p style="padding-top:70px;"></p>
        </div>
        </div>
        

        <!-- Add this inside your form or a dedicated section -->
        <h2 class="about-me" id="Gallery"><br>Documente emise pana la data curenta:</h2></h1>
        <div class="design">
        <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
        <div class="search-form-container">
          
        <!-- Adaugă un buton pentru afișarea documentelor -->
        <button type="button" onclick="afiseazaDocumente()">Afișează Documente</button>

        <div id="rezultateDocumente"></div>
        
        <p style="padding-top:70px;"></p>
        </div>
        </div>
        
        <!-- Add this inside your form or a dedicated section -->
        <h2 class="about-me" id="Gallery"><br>Afiseaza persoanele ce au modificari de identitate si sunt nascuti dupa anul introdus de dumneavoastra:</h2></h1>
        <div class="design">
        <!-- Adaugă un container pentru a poziționa formularul în mijlocul imaginii -->
        <div class="search-form-container">
          
        <!-- Adaugă un input pentru anul de naștere -->
        
        <input type="number" id="anNastere" name="anNastere" min="1980" value="1980">
        <button type="button" onclick="afiseazaModificariIdentitate()">Afisează Modificări Identitate</button>

        <div id="rezultateModificari"></div>
        <p style="padding-top:70px;"></p>
        </div>
        </div>
          <script>
          // Adaugă o funcție pentru căutarea cetățenilor cu un anumit document
          async function cautaCetateniCuDocument() {
              const documentType = document.getElementById("documentType").value;

              // Realizează o cerere către server pentru a obține cetățenii cu documentul specificat
              const response = await fetch(`http://localhost:8800/cautaCetateniCuDocument/${documentType}`);
              const data = await response.json();

              // Construiește un tabel HTML cu rezultatele căutării
              var tableHTML = "<table border='1'><tr><th>Nume</th><th>Prenume</th><th>CNP</th><th>Telefon</th><th>Email</th><th>DataNasterii</th><th>Stergere</th></tr>";

              data.forEach(row => {
                  tableHTML += `<tr><td>${row.Nume}</td><td>${row.Prenume}</td><td>${row.CNP}</td><td>${row.Telefon}</td><td>${row.Email}</td><td>${row.DataNasterii}</td><td> <i class="fas fa-trash" style="cursor: pointer;" onclick="stergeCetatean(${row.CetateanID})"></i>`;
              });

              tableHTML += "</table>";

              // Adaugă tabelul în div-ul cu id-ul "rezultateCetateniCuDocument"
              document.getElementById("rezultateCetateniCuDocument").innerHTML = tableHTML;
          }

          </script>

          <script>
            async function searchSections() {
              // Get the selected street from the dropdown
              const selectedStreet = document.getElementById("selectedStreet").value;

              // Make a fetch request to the server
              const response = await fetch(`http://localhost:8800/searchSections/${selectedStreet}`);
              const data = await response.json();

              // Handle the received data
              const resultsContainer = document.getElementById("searchResults");

              // Clear previous results
              resultsContainer.innerHTML = "";

              // Create a table to display the results
              const table = document.createElement("table");
              table.border = "1";

              // Create the header row
              const headerRow = table.insertRow();
              const headers = ["SectionID", "SectionName", "Oras", "Telefon", "Responsabil", "FunctieResponsabil"];
              headers.forEach(headerText => {
                  const header = document.createElement("th");
                  const textNode = document.createTextNode(headerText);
                  header.appendChild(textNode);
                  headerRow.appendChild(header);
              });

              // Create rows with data
              data.forEach(rowData => {
                  const row = table.insertRow();
                  Object.values(rowData).forEach(value => {
                      const cell = row.insertCell();
                      const textNode = document.createTextNode(value);
                      cell.appendChild(textNode);
                  });
              });

              // Append the table to the results container
              resultsContainer.appendChild(table);
          }
          </script>
          <script>
          async function searchAddresses() {
            // Get the minimum number of members from the input
            const minMembers = document.getElementById("minMembers").value;

            // Make a fetch request to the server with the minimum number of members
            const response = await fetch(`http://localhost:8800/searchAddresses?minMembers=${minMembers}`);
            const data = await response.json();

            // Create an HTML table to display the results
            let tableHTML = "<table border='1'><tr><th>AdresaTip</th><th>Strada</th><th>Numar</th><th>Oras</th><th>Judet</th></tr>";

            // Populate the table with data
            data.forEach(row => {
                tableHTML += `<tr><td>${row.AdresaTip}</td><td>${row.Strada}</td><td>${row.Numar}</td><td>${row.Oras}</td><td>${row.Judet}</td></tr>`;
            });

            tableHTML += "</table>";

            // Display the table in a specific div
            document.getElementById("resultTable").innerHTML = tableHTML;
        }


          </script>

          
          
<script>
  async function getData(){
    const response = await fetch("http://localhost:8800/");
    console.log(response.json());
}</script>

       </body>
</html>